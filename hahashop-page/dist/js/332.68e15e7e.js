"use strict";(self["webpackChunkhahashop"]=self["webpackChunkhahashop"]||[]).push([[332],{2332:function(o,e,t){t.r(e),t.d(e,{default:function(){return N}});var i=function(){var o=this,e=o._self._c;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:o.goods,"max-height":"250"}},[e("el-table-column",{attrs:{label:"商品图片",width:"120",fixed:""},scopedSlots:o._u([{key:"default",fn:function(o){return[e("img",{staticStyle:{width:"100px",height:"100px","object-fit":"cover","object-position":"center"},attrs:{src:o.row.goodImage}})]}}])}),e("el-table-column",{attrs:{prop:"goodName",label:"商品名称",width:"150"}}),e("el-table-column",{attrs:{prop:"goodPrice",label:"商品价格",width:"120"}}),e("el-table-column",{attrs:{prop:"buyerNum",label:"购买者数量",width:"120"}}),e("el-table-column",{attrs:{label:"订单查看",width:"120"},scopedSlots:o._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"mini"},nativeOn:{click:function(e){return e.preventDefault(),o.ViewBuyers(t.row)}}})]}}])}),e("el-table-column",{attrs:{fixed:"right",width:"210"},scopedSlots:o._u([{key:"default",fn:function(t){return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},nativeOn:{click:function(e){return e.preventDefault(),o.EditGoods(t.row)}}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},nativeOn:{click:function(e){return e.preventDefault(),o.DeleteGoods(t.row.goodId)}}})],1)]}}])},[e("template",{slot:"header"},[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return o.AddGoods()}}})],1)])],2)],1),e("GoodsEdit",{ref:"GoodsEdit",attrs:{visible:o.GoodsEditVisible},on:{"update:visible":function(e){o.GoodsEditVisible=e}}}),e("GoodsAdd",{ref:"GoodsAdd",attrs:{visible:o.GoodsAddVisible},on:{"update:visible":function(e){o.GoodsAddVisible=e}}}),e("BuyerView",{ref:"BuyerView",attrs:{visible:o.BuyerViewVisible},on:{"update:visible":function(e){o.BuyerViewVisible=e}}})],1)},l=[],d=t(6551),r=function(){var o=this,e=o._self._c;return e("el-dialog",{attrs:{title:"修改商品",visible:this.visible,width:"30%","before-close":o.closeDialog}},[e("el-form",{attrs:{model:o.good,"label-position":"right","label-width":"80px"}},[e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{model:{value:o.good.goodName,callback:function(e){o.$set(o.good,"goodName",e)},expression:"good.goodName"}})],1),e("el-form-item",{attrs:{label:"商品价格"}},[e("el-input",{model:{value:o.good.goodPrice,callback:function(e){o.$set(o.good,"goodPrice",e)},expression:"good.goodPrice"}})],1),e("el-form-item",{attrs:{label:"商品图片"}},[e("el-input",{model:{value:o.good.goodImage,callback:function(e){o.$set(o.good,"goodImage",e)},expression:"good.goodImage"}})],1),e("el-form-item",{attrs:{label:"商品备注"}},[e("el-input",{attrs:{type:"textarea"},model:{value:o.good.goodDesc,callback:function(e){o.$set(o.good,"goodDesc",e)},expression:"good.goodDesc"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return o.closeDialog()}}},[o._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return o.sureDialog()}}},[o._v("确 定")])],1)],1)},s=[],a={name:"GoodsEdit",data(){return{good:{goodName:"",goodPrice:"",goodImage:"",goodDesc:""}}},props:{visible:{type:Boolean,required:!0}},methods:{openDialog(o){Object.assign(this.good,o),this.$emit("update:visible",!0),(0,d._P)(this.good.goodId).then((o=>{this.good.goodDesc=o.data.data.goodDesc})).catch((o=>{console.log(o)}))},closeDialog(){this.$emit("update:visible",!1)},sureDialog(){this.$emit("update:visible",!1),(0,d.iJ)({goodName:this.good.goodName,goodPrice:this.good.goodPrice,goodImage:this.good.goodImage,goodDesc:this.good.goodDesc,goodId:this.good.goodId}).then((o=>{console.log(o)})).catch((o=>{console.log(o)}))}}},n=a,c=t(1656),u=(0,c.A)(n,r,s,!1,null,null,null),g=u.exports,m=function(){var o=this,e=o._self._c;return e("el-dialog",{attrs:{title:"增加商品",visible:this.visible,width:"30%","before-close":o.closeDialog}},[e("el-form",{attrs:{model:o.good,"label-position":"right","label-width":"80px"}},[e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{model:{value:o.good.goodName,callback:function(e){o.$set(o.good,"goodName",e)},expression:"good.goodName"}})],1),e("el-form-item",{attrs:{label:"商品价格"}},[e("el-input",{model:{value:o.good.goodPrice,callback:function(e){o.$set(o.good,"goodPrice",e)},expression:"good.goodPrice"}})],1),e("el-form-item",{attrs:{label:"商品图片"}},[e("el-input",{model:{value:o.good.goodImage,callback:function(e){o.$set(o.good,"goodImage",e)},expression:"good.goodImage"}})],1),e("el-form-item",{attrs:{label:"商品备注"}},[e("el-input",{attrs:{type:"textarea"},model:{value:o.good.goodDesc,callback:function(e){o.$set(o.good,"goodDesc",e)},expression:"good.goodDesc"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return o.closeDialog()}}},[o._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return o.sureDialog()}}},[o._v("确 定")])],1)],1)},p=[],f={name:"GoodsAdd",data(){return{good:{goodName:"",goodPrice:"",goodImage:"",goodDesc:""}}},props:{visible:{type:Boolean,required:!0}},methods:{openDialog(){this.$emit("update:visible",!0)},closeDialog(){this.$emit("update:visible",!1)},sureDialog(){this.$emit("update:visible",!1),(0,d.OZ)({goodName:this.good.goodName,goodPrice:this.good.goodPrice,goodImage:this.good.goodImage,goodDesc:this.good.goodDesc}).then((o=>{console.log(o)})).catch((o=>{console.log(o)}))}}},h=f,b=(0,c.A)(h,m,p,!1,null,null,null),y=b.exports,v=function(){var o=this,e=o._self._c;return e("el-dialog",{attrs:{title:"订单查看",visible:this.visible,width:"50%","before-close":o.closeDialog}},[e("h3",{staticStyle:{"text-align":"center"}},[o._v(o._s(o.good.goodName))]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:o.buyers,"max-height":"250","row-class-name":o.confirmedHeightlight}},[e("el-table-column",{attrs:{prop:"buyerPhone",label:"买家手机",width:"150"}}),e("el-table-column",{attrs:{prop:"buyerAddress",label:"买家地址",width:"120"}}),e("el-table-column",{attrs:{prop:"buyerDesc",label:"买家备注",width:"120"}}),e("el-table-column",{attrs:{prop:"buyerName",label:"买家姓名",width:"120"}}),e("el-table-column",{attrs:{fixed:"right",width:"210"},scopedSlots:o._u([{key:"default",fn:function(t){return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[0==t.row.isConfirmed&&0==o.good.goodState?e("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},nativeOn:{click:function(e){return e.preventDefault(),o.SellGood(t.row.orderId)}}}):o._e(),1==t.row.isConfirmed&&1==o.good.goodState?e("el-button",{attrs:{type:"primary",icon:"el-icon-close",size:"mini"},nativeOn:{click:function(e){return e.preventDefault(),o.CancelSellGood(t.row.orderId)}}}):o._e()],1)]}}])})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return o.closeDialog()}}},[o._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return o.sureDialog()}}},[o._v("确 定")])],1)],1)},w=[],D=t(79),I={name:"BuyerView",data(){return{good:{goodId:1,goodName:"比亚迪跑车",goodPrice:"100 ￥",goodImage:"",goodState:0},buyers:[{buyerPhone:"110",buyerAddress:"商专",buyerDesc:"必须选我",buyerName:"zhangsan",orderId:1,isConfirmed:!0}]}},props:{visible:{type:Boolean,required:!0}},methods:{openDialog(o){Object.assign(this.good,o),this.$emit("update:visible",!0),(0,D.WF)(this.good.goodId).then((o=>{this.buyers=o.data.data.orders,this.good.goodState=o.data.data.goodState})).catch((o=>{console.log(o)}))},closeDialog(){this.$emit("update:visible",!1)},sureDialog(){this.$emit("update:visible",!1)},confirmedHeightlight({row:o}){return o.isConfirmed?"confirmed-row":""},SellGood(o){const e=this.good.goodId;(0,D.iy)({orderId:o,goodId:e}).then((o=>{console.log(o)})).catch((o=>{console.log(o)}))},CancelSellGood(o){const e=this.good.goodId;(0,D.Ii)({orderId:o,goodId:e}).then((o=>{console.log(o)})).catch((o=>{console.log(o)}))}}},G=I,k=(0,c.A)(G,v,w,!1,null,null,null),x=k.exports,A={name:"GoodsView",methods:{deleteGood(o){console.log(o)},GetGoods(){(0,d.HI)({pageNum:this.currentPage,pageSize:this.pageSize}).then((o=>{this.goods=o.data.data.goods})).catch((o=>{console.log(o)}))},EditGoods(o){this.$refs.GoodsEdit.openDialog(o)},DeleteGoods(o){(0,d.JH)(o).then((o=>{console.log(o)})).catch((o=>{console.log(o)}))},AddGoods(){this.$refs.GoodsAdd.openDialog()},ViewBuyers(o){this.$refs.BuyerView.openDialog(o)}},components:{GoodsEdit:g,GoodsAdd:y,BuyerView:x},data(){return{goods:[{goodName:"比亚迪跑车",goodPrice:"100 ￥",goodId:10086,goodImage:"https://img.alicdn.com/imgextra/i2/O1CN01kcwuQk1LzVafnz3rv_!!6000000001370-0-tps-480-672.jpg",buyerNum:10}],GoodsEditVisible:!1,GoodsAddVisible:!1,BuyerViewVisible:!1,currentPage:1,pageSize:8}},created(){this.GetGoods()}},_=A,S=(0,c.A)(_,i,l,!1,null,"45feda85",null),N=S.exports},79:function(o,e,t){t.d(e,{HW:function(){return l},Ii:function(){return s},WF:function(){return d},iy:function(){return r}});var i=t(5720);function l(o){return(0,i.A)({url:"/order/buy",method:"post",data:o})}function d(o){return(0,i.A)({url:"/order/list",method:"get",params:{goodId:o}})}function r(o){return(0,i.A)({url:"/order/sell",method:"post",data:o})}function s(o){return(0,i.A)({url:"/order/cancelsell",method:"post",data:o})}},6551:function(o,e,t){t.d(e,{HI:function(){return l},JH:function(){return s},OZ:function(){return a},_P:function(){return d},iJ:function(){return r}});var i=t(5720);function l(o){return(0,i.A)({url:"/good/list",params:o,method:"get"})}function d(o){return(0,i.A)({url:"/good/detail",method:"get",params:{id:o}})}function r(o){return(0,i.A)({url:"/good/update",data:o,method:"update"})}function s(o){return(0,i.A)({url:"/good/delete",data:{goodId:o},method:"delete"})}function a(o){return(0,i.A)({url:"/good/add",data:o,method:"post"})}}}]);
//# sourceMappingURL=332.68e15e7e.js.map