{"version":3,"file":"js/346.2850615f.js","mappings":"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","sources":["webpack://hahashop/./src/components/webErrorResult.vue","webpack://hahashop/src/components/webErrorResult.vue","webpack://hahashop/./src/components/webErrorResult.vue?25b1","webpack://hahashop/./src/components/webErrorResult.vue?a2f2","webpack://hahashop/./src/views/history/HistoriesViews.vue","webpack://hahashop/./src/api/shop/history.js","webpack://hahashop/src/views/history/HistoriesViews.vue","webpack://hahashop/./src/views/history/HistoriesViews.vue?2c6e","webpack://hahashop/./src/views/history/HistoriesViews.vue?ccd2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.error)?_c('el-result',{attrs:{\"title\":\"404\",\"subTitle\":\"抱歉，请求错误\"}},[_c('template',{slot:\"icon\"},[_c('el-image',{attrs:{\"src\":\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"}})],1)],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-result title=\"404\" subTitle=\"抱歉，请求错误\" v-if=\"error\">\r\n        <template slot=\"icon\">\r\n          <el-image src=\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"></el-image>\r\n        </template>\r\n    </el-result>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default{\r\n    name:'webErrorResult',\r\n    props:{\r\n        error:{\r\n            type:Boolean,\r\n            required:true\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./webErrorResult.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./webErrorResult.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./webErrorResult.vue?vue&type=template&id=08dd3849\"\nimport script from \"./webErrorResult.vue?vue&type=script&lang=js\"\nexport * from \"./webErrorResult.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"history\"}},[_c('el-skeleton',{attrs:{\"rows\":3,\"animated\":\"\",\"loading\":_vm.isload}}),_c('webErrorResult',{attrs:{\"error\":_vm.weberror}}),(!_vm.isload&&!_vm.weberror)?_c('el-table',{staticStyle:{\"width\":\"100\"},attrs:{\"data\":_vm.histories,\"height\":_vm.tableConfig.height}},[_c('el-table-column',{attrs:{\"prop\":\"goodId\",\"label\":\"商品id\",\"width\":\"120\",\"fixed\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"object-fit\":\"cover\",\"object-position\":\"center\"},attrs:{\"src\":scope.row.goodImage}})]}}],null,false,645573090)}),_c('el-table-column',{attrs:{\"prop\":\"goodName\",\"label\":\"商品名称\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"goodPrice\",\"label\":\"商品价格\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"goodDesc\",\"label\":\"商品描述\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"operationTime\",\"label\":\"操作时间\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"width\":\"210\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.DeleteHistories(scope.row.historyId)}}})],1)]}}],null,false,2624834415)})],1):_vm._e(),(_vm.totalHistories > _vm.pageSize)?_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.totalHistories},on:{\"current-change\":_vm.handlePageChange}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\nexport function getHistories(query){\r\n    return request({\r\n        url:'/history/list',\r\n        params:query,\r\n        method:'get'\r\n    })\r\n}\r\n\r\nexport function deleteHistory(historyId){\r\n    return request({\r\n        url:'/history/delete',\r\n        data:{\r\n            historyId\r\n        },\r\n        method:'delete'\r\n    })\r\n}","<template>\r\n    <div id=\"history\">\r\n        <el-skeleton :rows=\"3\" animated :loading=\"isload\" />\r\n        <webErrorResult :error=\"weberror\"></webErrorResult>\r\n        <el-table :data=\"histories\" style=\"width: 100;\" :height=\"tableConfig.height\" v-if=\"!isload&&!weberror\">\r\n            <el-table-column prop=\"goodId\" label=\"商品id\" width=\"120\" fixed>\r\n            </el-table-column>\r\n            <el-table-column label=\"商品图片\" width=\"120\">\r\n                <template slot-scope=\"scope\">\r\n                    <img :src=\"scope.row.goodImage\"\r\n                        style=\"width: 100px; height: 100px; object-fit: cover; object-position: center;\">\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodName\" label=\"商品名称\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodPrice\" label=\"商品价格\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodDesc\" label=\"商品描述\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"operationTime\" label=\"操作时间\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column fixed=\"right\" width=\"210\">\r\n                <template slot-scope=\"scope\">\r\n                    <div style=\"display: flex; justify-content: center;\">\r\n                        <el-button @click.native.prevent=\"DeleteHistories(scope.row.historyId)\" type=\"danger\"\r\n                            icon=\"el-icon-delete\" size=\"mini\">\r\n                        </el-button>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination :current-page=\"currentPage\" :page-size=\"pageSize\" layout=\"prev, pager, next\"\r\n            :total=\"totalHistories\" @current-change=\"handlePageChange\" v-if=\"totalHistories > pageSize\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { getHistories, deleteHistory } from '@/api/shop/history.js'\r\n    import webErrorResult from '@/components/webErrorResult.vue'\r\n    export default {\r\n        name: 'HistoriesView',\r\n        methods: {\r\n            handlePageChange(page) {\r\n                this.currentPage = page\r\n                this.GetHistories()\r\n            },\r\n            DeleteHistories(id) {\r\n                deleteHistory(id).then(\r\n                    res => {\r\n                        this.GetHistories()\r\n                        console.log(res)\r\n                    }\r\n                ).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            GetHistories() {\r\n                this.isload = true\r\n                getHistories(\r\n                    {\r\n                        pageNum: this.currentPage,\r\n                        pageSize: this.pageSize\r\n                    }\r\n                ).then(res => {\r\n                    this.histories = res.data.data.histories\r\n                    this.totalHistories = res.data.data.totalHistories\r\n                    this.isload = false\r\n                    this.weberror = false\r\n                }).catch(err => {\r\n                    this.isload = false\r\n                    this.weberror = true\r\n                    console.log(err)\r\n                })\r\n            },\r\n            //自适应表格高度  8+60+32\r\n            getHeight() {\r\n                this.tableConfig.height = window.innerHeight - 100\r\n            },\r\n        }\r\n        ,\r\n        data() {\r\n            return {\r\n                histories: [],\r\n                currentPage: 1,\r\n                pageSize: 8,\r\n                totalHistories: 0,\r\n                tableConfig: {\r\n                    height: 200\r\n                },\r\n                isload: true,\r\n                weberror: false\r\n            }\r\n        },\r\n        created() {\r\n            this.GetHistories()\r\n            this.getHeight()\r\n            window.addEventListener('resize', this.getHeight)\r\n        },\r\n        destroyed() {\r\n            window.removeEventListener('resize', this.getHeight)\r\n        },\r\n        components: {\r\n            webErrorResult\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n  #history .el-table__body .cell{\r\n    height: 100px;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HistoriesViews.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HistoriesViews.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HistoriesViews.vue?vue&type=template&id=71bbae23\"\nimport script from \"./HistoriesViews.vue?vue&type=script&lang=js\"\nexport * from \"./HistoriesViews.vue?vue&type=script&lang=js\"\nimport style0 from \"./HistoriesViews.vue?vue&type=style&index=0&id=71bbae23&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","error","attrs","slot","_e","staticRenderFns","name","props","type","Boolean","required","component","isload","weberror","staticStyle","histories","tableConfig","height","scopedSlots","_u","key","fn","scope","row","goodImage","nativeOn","$event","preventDefault","DeleteHistories","historyId","totalHistories","pageSize","currentPage","on","handlePageChange","getHistories","query","request","url","params","method","deleteHistory","data","methods","page","GetHistories","id","then","res","console","log","catch","err","pageNum","getHeight","window","innerHeight","created","addEventListener","destroyed","removeEventListener","components","webErrorResult"],"sourceRoot":""}