"use strict";(self["webpackChunkhahashop"]=self["webpackChunkhahashop"]||[]).push([[106],{9725:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"buyerOrder"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orders,"row-class-name":e.tableRowClassName,height:e.tableConfig.height}},[t("el-table-column",{attrs:{label:"商品图片",width:"120",fixed:""},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticStyle:{width:"100px",height:"100px","object-fit":"cover","object-position":"center"},attrs:{src:e.row.goodImage}})]}}])}),t("el-table-column",{attrs:{width:"210",label:"确认状态"},scopedSlots:e._u([{key:"default",fn:function(r){return[0===r.row.orderState?t("div",[e._v("订单正在进行中")]):e._e(),1===r.row.orderState?t("div",[e._v("订单被卖家取消")]):e._e(),2===r.row.orderState?t("div",[e._v("订单完成")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"goodName",label:"商品名称",width:"150"}}),t("el-table-column",{attrs:{prop:"orderPrice",label:"支付价格",width:"120"}}),t("el-table-column",{attrs:{prop:"buyerPhone",label:"买家手机",width:"150"}}),t("el-table-column",{attrs:{prop:"buyerAddress",label:"买家地址",width:"120"}}),t("el-table-column",{attrs:{prop:"buyerDesc",label:"买家备注",width:"120"}}),t("el-table-column",{attrs:{prop:"buyerRealName",label:"买家姓名",width:"120"}}),t("el-table-column",{attrs:{prop:"buyerGoodsNum",label:"买家购买商品数量",width:"120"}})],1),e.totalOrders>e.pageSize?t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"prev, pager, next",total:e.totalOrders,background:""},on:{"current-change":e.handlePageChange}}):e._e()],1)},o=[],n=r(79),l={name:"buyerOrderView",data(){return{orders:[],currentPage:1,pageSize:8,totalOrders:0,tableConfig:{height:200}}},methods:{GetOrders(){const e=this.$store.getters.token,t={token:e,pageNum:this.currentPage,pageSize:this.pageSize};(0,n.Dm)(t).then((e=>{this.orders=e.data.data.orders,this.totalOrders=e.data.data.totalOrders})).catch((e=>{console.log(e)}))},getHeight(){this.tableConfig.height=window.innerHeight-100},tableRowClassName({row:e}){return 1==e.isConfirmed?"warning-row":""}},created(){this.getHeight(),window.addEventListener("resize",this.getHeight),this.GetOrders()},destroyed(){window.removeEventListener("resize",this.getHeight)}},i=l,s=r(1656),d=(0,s.A)(i,a,o,!1,null,null,null),u=d.exports},79:function(e,t,r){r.d(t,{Dm:function(){return s},HW:function(){return o},Ii:function(){return i},WF:function(){return n},iD:function(){return l}});var a=r(5720);function o(e){return(0,a.A)({url:"/api/order/buy",method:"post",data:e})}function n(e){return(0,a.A)({url:"/api/order/sellerlist",method:"get",params:e})}function l(e){return(0,a.A)({url:"/api/order/confirmsell",method:"post",data:e})}function i(e){return(0,a.A)({url:"/api/order/cancelsell",method:"post",data:e})}function s(e){return(0,a.A)({url:"/api/order/buyerlist",method:"get",params:e})}}}]);