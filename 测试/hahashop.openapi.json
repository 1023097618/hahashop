{"openapi":"3.0.1","info":{"title":"hahashop","description":"","version":"1.0.0"},"tags":[],"paths":{"/api/good/list":{"get":{"summary":"获取商品信息","deprecated":false,"description":"此处goodState改为了goodNum\n如果goodNum为0，则前端不可选中\ngoodImage以数组传回来，用于前端展示走马灯效果","tags":[],"parameters":[{"name":"pageSize","in":"query","description":"返回10个商品数据","required":true,"example":10,"schema":{"type":"integer"}},{"name":"pageNum","in":"query","description":"第1页","required":true,"example":1,"schema":{"type":"integer"}},{"name":"goodName","in":"query","description":"搜索这个名称的商品(可选)","required":false,"schema":{"type":"string"}},{"name":"categoryId","in":"query","description":"商品类别","required":false,"example":10086,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"证明这是商家，是商家是返回buyerNum，该商品现在有多少购买者\n如果这是买家或者没有token，就不返回已售罄的商品","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"400表示查询成功\n303表示查询失败","enum":[400],"x-apifox-enum":[{"value":400,"name":"","description":"操作成功"}]},"data":{"type":"object","properties":{"goods":{"type":"array","items":{"type":"object","properties":{"goodName":{"type":"string","description":"商品名称","examples":["比亚迪跑车"]},"goodPrice":{"type":"string","description":"用string传输主要考虑了货币的种类，比如100€   100$","examples":["100 ￥"]},"goodId":{"type":"integer","description":"此goodid会用在后续对后端的网络请求，在网络请求中对这个商品进行标识。\n比如购买该商品时，前端会往后端传递这个id用于标识是这个商品","examples":[10086]},"goodImage":{"type":"array","items":{"type":"string","examples":["http://localhost:8080/storage/fetch/sjhcc8pkpxu0ofoymwdu.png"]},"description":"商品图片的url地址"},"goodNum":{"type":"integer","description":"商品的数量","examples":[2]},"buyerNum":{"type":"integer","description":"此商品购买者数量，在token校验为商家时返回给前端"},"categoryId":{"type":"integer","description":"商品子种类id","examples":[10086]}},"x-apifox-orders":["goodName","goodPrice","goodId","goodImage","goodNum","buyerNum","categoryId"],"required":["goodName","goodPrice","goodId","goodImage","goodNum","categoryId"],"x-apifox-ignore-properties":[]}},"totalGoods":{"type":"integer","description":"商品总数量，用于前端计算总共有多少页","examples":[100]}},"x-apifox-orders":["goods","totalGoods"],"required":["goods","totalGoods"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220162878-run"}},"/api/good/category":{"get":{"summary":"获取商品种类","deprecated":false,"description":"","tags":[],"parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"400表示查询成功\n303表示查询失败","enum":[400],"x-apifox-enum":[{"value":400,"name":"","description":"操作成功"}]},"data":{"type":"object","properties":{"categoryList":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string","examples":["电子设备"]},"value":{"type":"integer","examples":[10086]},"children":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string","examples":["笔记本电脑"]},"value":{"type":"integer","examples":[10087]}},"x-apifox-orders":["label","value"],"required":["label","value"],"x-apifox-ignore-properties":[]}}},"x-apifox-orders":["label","value","children"],"required":["label","value","children"],"x-apifox-ignore-properties":[]}}},"x-apifox-orders":["categoryList"],"required":["categoryList"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-224361523-run"}},"/api/good/detail":{"get":{"summary":"获取商品详细","deprecated":false,"description":"","tags":[],"parameters":[{"name":"id","in":"query","description":"商品id","required":true,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"token为买家或者卖家均可","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","enum":["400","303","201"],"x-apifox-enum":[{"value":"400","name":"","description":"操作成功"},{"value":"303","name":"","description":"你操作的对象找不到了呢~"},{"value":"201","name":"","description":"token不合法"}],"examples":["400"]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]},"data":{"type":"object","properties":{"goodDesc":{"type":"string","description":"商品描述","examples":["这个商品物美价廉"]}},"x-apifox-orders":["goodDesc"],"required":["goodDesc"],"x-apifox-ignore-properties":[]}},"x-apifox-orders":["code","msg","data"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]},"examples":{"1":{"summary":"成功示例","value":{"code":"400","msg":"查询商品成功","data":{"goodDesc":"这个商品物美价廉"}}}}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220163269-run"}},"/api/good/update":{"post":{"summary":"更新商品","deprecated":false,"description":"","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"goodImage":{"type":"array","items":{"type":"string"},"description":"从storage/image返回的商品图片url组成的数组"},"goodId":{"type":"integer","description":"商品id"},"goodDesc":{"type":"string","description":"商品描述信息"},"goodPrice":{"type":"string","description":"商品价格"},"goodName":{"type":"string","description":"商品名称"},"categoryId":{"type":"integer","description":"商品子种类id\n"},"goodNum":{"type":"integer","description":"商品数量"}},"x-apifox-orders":["goodImage","goodId","goodDesc","goodPrice","goodName","categoryId","goodNum"],"required":["goodImage","goodId","goodDesc","goodPrice","goodName","categoryId","goodNum"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,303,201],"x-apifox-enum":[{"value":400,"name":"","description":"操作成功"},{"value":303,"name":"","description":"你操作的对象找不到了呢"},{"value":201,"name":"","description":"token不合法"}],"examples":[400]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["购买成功","购买失败，商品已经被冻结","购买失败，填入的信息不合法"],"x-apifox-enum":[{"value":"购买成功","name":"","description":""},{"value":"购买失败，商品已经被冻结","name":"","description":""},{"value":"购买失败，填入的信息不合法","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220253997-run"}},"/api/good/add":{"post":{"summary":"添加商品","deprecated":false,"description":"","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"goodImage":{"type":"array","items":{"type":"string"},"description":"从storage/image返回的商品图片url组成的数组"},"goodDesc":{"type":"string","description":"商品描述信息"},"goodPrice":{"type":"string","description":"商品价格"},"goodName":{"type":"string","description":"商品名称"},"categoryId":{"type":"integer","description":"商品子种类id\n"},"goodNum":{"type":"integer","description":"商品数量"}},"x-apifox-orders":["goodImage","goodDesc","goodPrice","goodName","categoryId","goodNum"],"required":["goodImage","goodDesc","goodPrice","goodName","categoryId","goodNum"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201],"x-apifox-enum":[{"value":400,"name":"","description":"更新成功"},{"value":201,"name":"","description":"token不合法"}],"examples":[400]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["购买成功","购买失败，商品已经被冻结","购买失败，填入的信息不合法"],"x-apifox-enum":[{"value":"购买成功","name":"","description":""},{"value":"购买失败，商品已经被冻结","name":"","description":""},{"value":"购买失败，填入的信息不合法","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-225095810-run"}},"/api/good/delete":{"delete":{"summary":"删除商品","deprecated":false,"description":"","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"goodId":{"type":"string","description":"商品id"}},"x-apifox-orders":["goodId"],"required":["goodId"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,303],"x-apifox-enum":[{"value":400,"name":"","description":"操作成功"},{"value":303,"name":"","description":"你操作的对象找不到了呢~"}],"examples":[400]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["购买成功","购买失败，商品已经被冻结","购买失败，填入的信息不合法"],"x-apifox-enum":[{"value":"购买成功","name":"","description":""},{"value":"购买失败，商品已经被冻结","name":"","description":""},{"value":"购买失败，填入的信息不合法","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220254486-run"}},"/api/auth/login":{"post":{"summary":"买家/卖家登录接口","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","description":"用户名","examples":["zhangsan"]},"password":{"type":"string","description":"密码","examples":["123456"]}},"x-apifox-orders":["username","password"],"required":["username","password"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"400代表操作成功\n301代表用户不存在\n302代表用户密码错误","examples":[400],"enum":[400,301,302],"x-apifox-enum":[{"value":400,"name":"","description":""},{"value":301,"name":"","description":""},{"value":302,"name":"","description":""}]},"data":{"type":"object","properties":{"token":{"type":"string","description":"根据jwt令牌生成的一长串字符串\t"}},"x-apifox-orders":["token"],"required":["token"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["登录成功","用户不存在","用户密码错误"],"x-apifox-enum":[{"value":"登录成功","name":"","description":""},{"value":"用户不存在","name":"","description":""},{"value":"用户密码错误","name":"","description":""}],"examples":["登录成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/验证用户信息接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220162623-run"}},"/api/auth/register":{"post":{"summary":"买家注册接口","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","description":"用户名","examples":["zhangsan"]},"password":{"type":"string","description":"密码","examples":["123456"]},"userPhone":{"type":"string","description":"手机号"},"phoneCode":{"type":"string","description":"手机号验证码，这边假装\"1111\"为正确的验证码"},"userAddress":{"type":"string","description":"默认购买地点"},"userRealName":{"type":"string","description":"用户真实姓名"}},"x-apifox-orders":["username","password","userPhone","phoneCode","userAddress","userRealName"],"required":["username","password","userPhone","phoneCode","userAddress","userRealName"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"400代表注册成功\n310代表用户已存在","examples":[400],"enum":[400,304],"x-apifox-enum":[{"value":400,"name":"","description":""},{"value":304,"name":"","description":"该用户名已被占用"}]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["登录成功","用户不存在","用户密码错误"],"x-apifox-enum":[{"value":"登录成功","name":"","description":""},{"value":"用户不存在","name":"","description":""},{"value":"用户密码错误","name":"","description":""}],"examples":["登录成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/验证用户信息接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-224363312-run"}},"/api/auth/changePassword":{"post":{"summary":"买家/卖家修改密码","deprecated":false,"description":"用户的username从token中获得","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"oldPassword":{"type":"string","description":"老密码","examples":["zhangsan"]},"newPassword":{"type":"string","description":"新密码","examples":["123456"]}},"x-apifox-orders":["oldPassword","newPassword"],"required":["oldPassword","newPassword"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","examples":[400],"enum":[400,201,302],"x-apifox-enum":[{"value":400,"name":"","description":""},{"value":201,"name":"token不合法","description":""},{"value":302,"name":"原密码错误","description":""}]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["登录成功","用户不存在","用户密码错误"],"x-apifox-enum":[{"value":"登录成功","name":"","description":""},{"value":"用户不存在","name":"","description":""},{"value":"用户密码错误","name":"","description":""}],"examples":["登录成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/验证用户信息接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-221462647-run"}},"/api/auth/info":{"get":{"summary":"获取用户信息","deprecated":false,"description":"","tags":[],"parameters":[{"name":"token","in":"query","description":"","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201],"x-apifox-enum":[{"value":400,"name":"","description":"成功"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{"username":{"type":"string","title":"用户名"},"privilege":{"type":"integer","title":"权限","description":"1代表卖家   2代表买家","enum":[1,2],"x-apifox-enum":[{"value":1,"name":"卖家权限","description":""},{"value":2,"name":"买家权限","description":""}]},"userPhone":{"type":"string","title":"买家手机号","description":"(如果是买家则返回)"},"userAddress":{"type":"string","title":"默认交易地址","description":"(如果是买家则返回)"},"userId":{"type":"integer","title":"用户id"},"userRealName":{"type":"string","description":"真实姓名"}},"x-apifox-orders":["username","privilege","userPhone","userAddress","userId","userRealName"],"required":["username","privilege","userId","userRealName"],"x-apifox-ignore-properties":[]},"msg":{"type":"string"}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/验证用户信息接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220232929-run"}},"/api/order/sellerlist":{"get":{"summary":"卖家查看商品订单信息","deprecated":false,"description":"移除了goodState，增加了totalOrders","tags":[],"parameters":[{"name":"goodId","in":"query","description":"商品id","required":true,"schema":{"type":"integer"}},{"name":"pageNum","in":"query","description":"","required":false,"schema":{"type":"integer"}},{"name":"pageSize","in":"query","description":"","required":false,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201,303],"x-apifox-enum":[{"value":400,"name":"","description":"请求成功"},{"value":201,"name":"","description":"token不合法"},{"value":303,"name":"","description":"你操作的对象找不到了呢~"}]},"data":{"type":"object","properties":{"orders":{"type":"array","items":{"type":"object","properties":{"buyerPhone":{"type":"string","description":"买家手机","examples":["110"]},"buyerAddress":{"type":"string","description":"买家地址","examples":["商专"]},"buyerDesc":{"type":"string","description":"买家备注","examples":["这个我真的需要"]},"orderId":{"type":"integer","description":"该订单的编号","examples":[11]},"buyerRealName":{"type":"string","description":"买家姓名","examples":["zhangsan"]},"orderState":{"type":"integer","enum":[0,1,2],"x-apifox-enum":[{"value":0,"name":"","description":"订单正在进行中"},{"value":1,"name":"","description":"订单被卖家取消"},{"value":2,"name":"","description":"订单完成"}],"description":"订单状态，目前暂时只有三个"},"buyerGoodsNum":{"type":"integer","description":"买了多少件商品"},"orderPrice":{"type":"string","description":"下单时支付的价格"}},"x-apifox-orders":["buyerPhone","buyerAddress","buyerDesc","orderId","buyerRealName","orderState","buyerGoodsNum","orderPrice"],"required":["buyerPhone","buyerAddress","buyerDesc","orderId","buyerRealName","orderState","buyerGoodsNum","orderPrice"],"x-apifox-ignore-properties":[]}},"totalOrders":{"type":"integer","description":"总共有多少条"}},"x-apifox-orders":["orders","totalOrders"],"required":["orders","totalOrders"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["请求成功","token不合法","查询商品失败"],"x-apifox-enum":[{"value":"请求成功","name":"","description":""},{"value":"token不合法","name":"","description":""},{"value":"查询商品失败","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/订单接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220211486-run"}},"/api/order/buyerlist":{"get":{"summary":"买家查看订单信息","deprecated":false,"description":"","tags":[],"parameters":[{"name":"token","in":"query","description":"用于标明用户id，根据id返回此用户的相关订单","required":true,"schema":{"type":"integer"}},{"name":"pageNum","in":"query","description":"","required":false,"schema":{"type":"integer"}},{"name":"pageSize","in":"query","description":"","required":false,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"需验证token为买家","required":true,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201,303],"x-apifox-enum":[{"value":400,"name":"","description":"请求成功"},{"value":201,"name":"","description":"token不合法"},{"value":303,"name":"","description":"你操作的对象找不到了呢~"}]},"data":{"type":"object","properties":{"totalOrders":{"type":"integer","description":"总共有多少个订单，用于分页","enum":[0,1],"x-apifox-enum":[{"value":0,"name":"","description":"没被冻结"},{"value":1,"name":"","description":"冻结"}]},"orders":{"type":"array","items":{"type":"object","properties":{"buyerPhone":{"type":"string","description":"买家手机","examples":["110"]},"buyerAddress":{"type":"string","description":"买家地址","examples":["商专"]},"buyerDesc":{"type":"string","description":"买家备注","examples":["这个我真的需要"]},"orderId":{"type":"integer","description":"该订单的编号","examples":[11]},"buyerRealName":{"type":"string","description":"买家姓名","examples":["zhangsan"]},"goodId":{"type":"string","description":"商品id"},"goodImage":{"type":"string","description":"商品图片，只传第一张"},"goodName":{"type":"string","description":"商品名称"},"orderState":{"type":"integer","description":"订单状态"},"buyerGoodsNum":{"type":"integer"},"orderPrice":{"type":"string","description":"下单时支付的价格"}},"x-apifox-orders":["buyerPhone","buyerAddress","buyerDesc","orderId","buyerRealName","goodId","goodImage","goodName","orderState","buyerGoodsNum","orderPrice"],"required":["buyerPhone","buyerAddress","buyerDesc","orderId","buyerRealName","goodId","goodImage","goodName","orderState","buyerGoodsNum","orderPrice"],"x-apifox-ignore-properties":[]}}},"x-apifox-orders":["totalOrders","orders"],"required":["totalOrders","orders"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["请求成功","token不合法","查询商品失败"],"x-apifox-enum":[{"value":"请求成功","name":"","description":""},{"value":"token不合法","name":"","description":""},{"value":"查询商品失败","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/订单接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-224364316-run"}},"/api/order/buy":{"post":{"summary":"购买商品","deprecated":false,"description":"","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为买家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"goodId":{"type":"integer","description":"要购买的商品id"},"buyerRealName":{"type":"string","description":"购买人姓名","examples":["zhangsan"]},"buyerPhone":{"type":"string","description":"购买人电话","examples":["+86 12312341234"]},"buyerAddress":{"type":"string","description":"约定交易地点","examples":["浙江省杭州市下沙浙江工商大学南1门"]},"buyerDesc":{"type":"string","description":"备注","examples":["您好，我们花为公司真的很需要这个产品来制作芯片，为了国家大业考虑，请优先将这个商品卖给我们。"]},"buyerGoodsNum":{"type":"integer","description":"购买的数量"}},"x-apifox-orders":["goodId","buyerRealName","buyerPhone","buyerAddress","buyerDesc","buyerGoodsNum"],"required":["goodId","buyerRealName","buyerPhone","buyerDesc","buyerAddress","buyerGoodsNum"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,305,201,306,307],"x-apifox-enum":[{"value":400,"name":"","description":"操作成功"},{"value":305,"name":"","description":"商品已经被抢完了"},{"value":201,"name":"","description":"token不合法"},{"value":306,"name":"","description":"非法输入，如购买的商品数量为0或者为负数"},{"value":307,"name":"","description":"你要买的商品太多了"}],"examples":[400]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["购买成功","购买失败，商品已经被冻结","购买失败，填入的信息不合法"],"x-apifox-enum":[{"value":"购买成功","name":"","description":""},{"value":"购买失败，商品已经被冻结","name":"","description":""},{"value":"购买失败，填入的信息不合法","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/订单接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220191853-run"}},"/order/sell":{"post":{"summary":"卖商品","deprecated":true,"description":"选中订单之后商品进入冻结状态","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"cookie","description":"","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"integer","description":"订单编号"},"goodId":{"type":"integer"}},"x-apifox-orders":["orderId","goodId"],"required":["orderId","goodId"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,303,307,201],"x-apifox-enum":[{"value":400,"name":"","description":"成功"},{"value":303,"name":"","description":"查询商品失败"},{"value":307,"name":"","description":"贩卖失败，商品已经被冻结"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string"}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/订单接口","x-apifox-status":"deprecated","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220211502-run"}},"/api/order/confirmSell":{"post":{"summary":"商家确认订单完成","deprecated":false,"description":"商家确认订单卖出的接口，订单由\"正在进行\"状态转为\"完成\"状态","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"integer","description":"订单编号"},"goodId":{"type":"integer"}},"x-apifox-orders":["orderId","goodId"],"required":["orderId","goodId"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,303,201],"x-apifox-enum":[{"value":400,"name":"","description":"成功"},{"value":303,"name":"","description":"你操作的对象找不到了呢~"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string"}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/订单接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-224365533-run"}},"/api/order/cancelsell":{"post":{"summary":"商家取消订单","deprecated":false,"description":"商家取消订单的接口，订单由\"正在进行\"状态转为\"取消\"状态","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"integer","description":"订单编号"},"goodId":{"type":"string"}},"x-apifox-orders":["orderId","goodId"],"required":["orderId","goodId"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,303,201],"x-apifox-enum":[{"value":400,"name":"","description":"成功"},{"value":303,"name":"","description":"你操作的对象找不到了呢~"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string"}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/订单接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-220211585-run"}},"/api/history/list":{"get":{"summary":"获取商品修改历史","deprecated":false,"description":"这个categoryid先不传，不想做","tags":[],"parameters":[{"name":"pageSize","in":"query","description":"返回10个数据","required":false,"example":10,"schema":{"type":"integer"}},{"name":"pageNum","in":"query","description":"第1页","required":false,"example":1,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201],"x-apifox-enum":[{"value":400,"name":"","description":"查询成功"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{"histories":{"type":"array","items":{"type":"object","properties":{"historyId":{"type":"integer","description":"历史记录的id"},"operationTime":{"type":"string","description":"操作的时间","examples":["2024-01-01 00:00:00"]},"goodName":{"type":"string","description":"商品名称","examples":["比亚迪跑车"]},"goodPrice":{"type":"string","description":"用string传输主要考虑了货币的种类，比如100€   100$","examples":["100 ￥"]},"goodId":{"type":"integer","description":"此goodid会用在后续对后端的网络请求，在网络请求中对这个商品进行标识。\n比如购买该商品时，前端会往后端传递这个id用于标识是这个商品"},"goodImage":{"type":"string","description":"商品图片的url地址，只返回第一张","examples":["https://img.alicdn.com/imgextra/i2/O1CN01kcwuQk1LzVafnz3rv_!!6000000001370-0-tps-480-672.jpg"]},"goodDesc":{"type":"string","description":"商品描述信息","examples":["非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好非常好"]}},"x-apifox-orders":["historyId","operationTime","goodName","goodPrice","goodId","goodImage","goodDesc"],"required":["goodName","goodPrice","goodId","goodImage","historyId","operationTime","goodDesc"],"x-apifox-ignore-properties":[]}},"totalHistories":{"type":"integer","description":"历史记录总数量，用于前端计算总共有多少页","examples":[100]}},"x-apifox-orders":["histories","totalHistories"],"required":["histories","totalHistories"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品修改历史接口","x-apifox-status":"developing","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-222407465-run"}},"/api/history/delete":{"delete":{"summary":"删除历史记录","deprecated":false,"description":"","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"historyId":{"type":"string","description":"历史记录id"}},"x-apifox-orders":["historyId"],"required":["historyId"],"x-apifox-ignore-properties":[]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,303,201],"x-apifox-enum":[{"value":400,"name":"","description":"更新成功"},{"value":303,"name":"","description":"你操作的对象找不到了呢~"},{"value":201,"name":"","description":"token不合法"}],"examples":[400]},"data":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["购买成功","购买失败，商品已经被冻结","购买失败，填入的信息不合法"],"x-apifox-enum":[{"value":"购买成功","name":"","description":""},{"value":"购买失败，商品已经被冻结","name":"","description":""},{"value":"购买失败，填入的信息不合法","name":"","description":""}]}},"x-apifox-orders":["code","data","msg"],"required":["code","msg","data"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/商品修改历史接口","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-222408766-run"}},"/api/storage/upload":{"post":{"summary":"上传图片","deprecated":false,"description":"后端可参考litemall商城的写法\n```java\n    @PostMapping(\"/create\")\n    public Object create(@RequestParam(\"file\") MultipartFile file) throws IOException {\n        String originalFilename = file.getOriginalFilename();\n        LitemallStorage litemallStorage = storageService.store(file.getInputStream(), file.getSize(),\n                file.getContentType(), originalFilename);\n        return ResponseUtil.ok(litemallStorage);\n    }\n ```","tags":[],"parameters":[{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"format":"binary","type":"string","description":"二进制表单","example":""}},"required":["file"]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201],"x-apifox-enum":[{"value":400,"name":"","description":"查询成功"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{"url":{"type":"string","description":"图片的url","examples":["http://localhost:8080/storage/fetch/sjhcc8pkpxu0ofoymwdu.png"]},"key":{"type":"string","description":"图片的key","examples":["sjhcc8pkpxu0ofoymwdu.png"]}},"x-apifox-orders":["url","key"],"required":["url","key"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/储存接口","x-apifox-status":"developing","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-224359094-run"}},"/api/storage/fetch/{key:.+}":{"get":{"summary":"获取图片","deprecated":false,"description":"使用路径变量的方式获取到图片，比如\nhttp://localhost:8080/storage/fetch/sjhcc8pkpxu0ofoymwdu.png\nlitemall商城的接口是这么写的\n``` java\n@GetMapping(\"/fetch/{key:.+}\")\n    public ResponseEntity<Resource> fetch(@PathVariable String key) {\n        LitemallStorage litemallStorage = litemallStorageService.findByKey(key);\n        if (litemallStorage==null||key == null) {\n            return ResponseEntity.notFound().build();\n        }\n        if (key.contains(\"../\")) {\n            return ResponseEntity.badRequest().build();\n        }\n        String type = litemallStorage.getType();\n        MediaType mediaType = MediaType.parseMediaType(type);\n\n        Resource file = storageService.loadAsResource(key);\n        if (file == null) {\n            return ResponseEntity.notFound().build();\n        }\n        return ResponseEntity.ok().contentType(mediaType).body(file);\n    }\n   ```\n此处ResponseEntity不是你自己写的，是这么导入的\nimport org.springframework.http.ResponseEntity;","tags":[],"parameters":[{"name":"key:.+","in":"path","description":"","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"image/png":{"schema":{"type":"object","properties":{},"x-apifox-orders":[],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/储存接口","x-apifox-status":"developing","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-224359793-run"}},"/api/user/list":{"get":{"summary":"获取所有已注册用户信息","deprecated":false,"description":"返回所有身份为\"购买者\"的信息","tags":[],"parameters":[{"name":"pageSize","in":"query","description":"返回10个数据","required":false,"example":10,"schema":{"type":"integer"}},{"name":"pageNum","in":"query","description":"第1页","required":false,"example":1,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201],"x-apifox-enum":[{"value":400,"name":"","description":"查询成功"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{"users":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"integer"},"userPhone":{"type":"string","description":"购买者手机号"},"userAddress":{"type":"string","description":"购买者地址"},"userRealName":{"type":"string","description":"购买者真实姓名"}},"x-apifox-orders":["userId","userPhone","userAddress","userRealName"],"required":["userId","userPhone","userAddress","userRealName"],"x-apifox-ignore-properties":[]}},"totalUsers":{"type":"integer","description":"用户总数量，用于前端计算总共有多少页","examples":[100]}},"x-apifox-orders":["users","totalUsers"],"required":["users","totalUsers"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/获取用户信息","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-226273219-run"}},"/api/user/orderlist":{"get":{"summary":"获取某个用户所有的购买记录","deprecated":false,"description":"根据用户的id来查询该用户的购买记录","tags":[],"parameters":[{"name":"pageSize","in":"query","description":"返回10个数据","required":false,"example":10,"schema":{"type":"integer"}},{"name":"pageNum","in":"query","description":"第1页","required":false,"example":1,"schema":{"type":"integer"}},{"name":"userId","in":"query","description":"这个用户的id","required":false,"schema":{"type":"integer"}},{"name":"X-Hahashop-Token","in":"header","description":"需验证token为卖家","required":true,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","enum":[400,201],"x-apifox-enum":[{"value":400,"name":"","description":"查询成功"},{"value":201,"name":"","description":"token不合法"}]},"data":{"type":"object","properties":{"orders":{"type":"array","items":{"type":"object","properties":{"orderId":{"type":"integer"},"orderState":{"type":"integer","description":"订单状态"},"goodId":{"type":"integer","description":"商品Id"},"goodImage":{"type":"string","description":"商品图片，只传第一张"},"goodName":{"type":"string","description":"商品名称"},"orderPrice":{"type":"string","description":"商品价格"},"buyerDesc":{"type":"string"},"buyerRealName":{"type":"string"},"buyerAddress":{"type":"string"},"buyerPhone":{"type":"string"},"buyerGoodsNum":{"type":"integer","description":"购买商品数量"}},"x-apifox-orders":["orderId","orderState","goodId","goodImage","goodName","orderPrice","buyerDesc","buyerRealName","buyerAddress","buyerPhone","buyerGoodsNum"],"required":["orderId","goodName","goodImage","goodId","orderPrice","orderState","buyerDesc","buyerRealName","buyerAddress","buyerPhone","buyerGoodsNum"],"x-apifox-ignore-properties":[]}},"totalOrders":{"type":"integer","description":"用户总数量，用于前端计算总共有多少页","examples":[100]}},"x-apifox-orders":["orders","totalOrders"],"required":["orders","totalOrders"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","enum":["查询商品成功","查询商品失败"],"x-apifox-enum":[{"value":"查询商品成功","name":"","description":""},{"value":"查询商品失败","name":"","description":""}],"examples":["查询商品成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[]}}},"headers":{},"x-apifox-name":"成功"}},"security":[],"x-apifox-folder":"root/获取用户信息","x-apifox-status":"released","x-run-in-apifox":"https://app.apifox.com/web/project/5244051/apis/api-226281668-run"}}},"components":{"schemas":{"response结构":{"type":"object","properties":{"code":{"type":"integer","description":"400代表登录成功\n301代表用户不存在\n302代表用户密码错误","examples":[400],"enum":[400,301,302],"x-apifox-enum":[{"value":400,"name":"","description":""},{"value":301,"name":"","description":""},{"value":302,"name":"","description":""}]},"data":{"type":"object","properties":{"token":{"type":"string","description":"根据jwt令牌生成的一长串字符串\t"}},"x-apifox-orders":["token"],"required":["token"],"x-apifox-ignore-properties":[]},"msg":{"type":"string","description":"登录成功\n用户不存在\n用户密码错误","enum":["登录成功","用户不存在","用户密码错误"],"x-apifox-enum":[{"value":"登录成功","name":"","description":""},{"value":"用户不存在","name":"","description":""},{"value":"用户密码错误","name":"","description":""}],"examples":["登录成功"]}},"x-apifox-orders":["code","data","msg"],"required":["code","data","msg"],"x-apifox-ignore-properties":[],"x-apifox-folder":""}},"securitySchemes":{}},"servers":[]}