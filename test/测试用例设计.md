# 测试用例设计文档

## 引言
本测试用例设计文档基于单一商品销售平台的需求规格说明书，详细描述了卖家和买家的核心功能测试用例。每个用例均基于等价类划分法，并包含有效和无效的等价类。以下为平台主要功能的测试用例说明及对应的等价类覆盖。

---

## 用例详细说明

### 测试用例 1: 客户自由注册
**用例描述**: 客户自由注册账号，填写用户名、密码、电话和默认交易地点。  
**前置条件**: 无  
**后置条件**: 客户注册成功并能登录。  

#### 主要步骤：
1. 客户进入注册页面。
2. 输入用户名、密码、电话和默认交易地点。
3. 提交注册信息。

#### 等价类覆盖：
- **有效类**: 所有数据格式均正确
- **无效类**:
  - 用户名为空
  - 密码为空
  - 交易地点为空
  - 电话格式错误

| 用例编号 | 测试用例描述        | 输入数据                                                 | 预期输出                     | 等价类覆盖             |
|----------|---------------------|----------------------------------------------------------|------------------------------|------------------------|
| TC1-1    | 正确注册账号        | 用户名: Alice_Wang, 密码: Pass@1234, 电话: 13800138000, 默认地点: 上海市浦东新区 | 注册成功，跳转到登录页面    | 有效类                 |
| TC1-2    | 用户名为空          | 用户名: ``, 密码: Pass@1234, 电话: 13800138000, 默认地点: 上海市浦东新区花木路388号 | 注册失败，提示“用户名不能为空”| 无效类（用户名为空）   |
| TC1-3    | 密码为空            | 用户名: Alice_Wang, 密码: ``, 电话: 13800138000, 默认地点: 上海市浦东新区花木路388号 | 注册失败，提示“密码不能为空”| 无效类（密码为空）     |
| TC1-4    | 电话格式错误        | 用户名: Alice_Wang, 密码: Pass@1234, 电话: 13800138abc, 默认地点: 上海市浦东新区花木路388号 | 注册失败，提示“电话格式不正确”| 无效类（电话格式错误）|
| TC1-5    | 默认交易地点为空    | 用户名: Alice_Wang, 密码: Pass@1234, 电话: 13800138000, 默认地点: `` | 注册失败，提示“交易地点不能为空”| 无效类（交易地点为空）|

---

### 测试用例 2: 客户登录
**用例描述**: 客户使用用户名和密码登录系统。  
**前置条件**: 客户已注册。  
**后置条件**: 客户成功登录系统。

#### 主要步骤：
1. 客户进入登录页面。
2. 输入用户名和密码。
3. 点击登录。

#### 等价类覆盖：
- **有效类**: 用户名密码均正确
- **无效类**:
  - 用户名为空
  - 密码为空
  - 用户名不存在
  - 密码错误

| 用例编号 | 测试用例描述        | 输入数据             | 预期输出                     | 等价类覆盖             |
|----------|---------------------|----------------------|------------------------------|------------------------|
| TC2-1    | 正确登录账号        | 用户名: Alice_Wang, 密码: Pass@1234 | 登录成功，进入首页       | 有效类                 |
| TC2-2    | 用户名为空          | 用户名: ``, 密码: Pass@1234         | 登录失败，提示“用户名不能为空”| 无效类（用户名为空）   |
| TC2-3    | 密码为空            | 用户名: Alice_Wang, 密码: ``        | 登录失败，提示“密码不能为空”| 无效类（密码为空）     |
| TC2-4    | 用户名不存在        | 用户名: John_Doe, 密码: Pass@1234   | 登录失败，提示“用户名不存在”| 无效类（用户名不存在）|
| TC2-5    | 密码错误            | 用户名: Alice_Wang, 密码: WrongPass123 | 登录失败，提示“密码错误”| 无效类（密码错误）     |

---

### 测试用例 3: 客户修改密码
**用例描述**: 客户登录后修改密码。  
**前置条件**: 客户已登录系统。  
**后置条件**: 客户成功修改密码并使用新密码登录。

#### 主要步骤：
1. 客户登录系统并进入“账户设置”页面。
2. 输入当前密码和新密码。
3. 提交修改。

#### 等价类覆盖：
- **有效类**: 密码正确
- **无效类**:
  - 密码错误
  - 新密码为空

| 用例编号 | 测试用例描述        | 输入数据             | 预期输出                     | 等价类覆盖             |
|----------|---------------------|----------------------|------------------------------|------------------------|
| TC3-1    | 正确修改密码        | 当前密码: Pass@1234, 新密码: NewPass@2023 | 修改成功，提示密码已更改 | 有效类                 |
| TC3-2    | 当前密码错误        | 当前密码: WrongPass123, 新密码: NewPass@2023 | 修改失败，提示“当前密码错误”| 无效类（密码错误）     |
| TC3-3    | 新密码为空          | 当前密码: Pass@1234, 新密码: ``        | 修改失败，提示“新密码不能为空”| 无效类（新密码为空）   |

---

### 测试用例 4: 商品搜索功能
**用例描述**: 客户可以通过分类或商品名查找商品。  
**前置条件**: 平台有上架商品。  
**后置条件**: 客户能通过搜索找到所需商品。

#### 主要步骤：
1. 客户在搜索框输入商品名或选择分类。
2. 点击“搜索”按钮。

#### 等价类覆盖：
- **有效类**: 商品存在
- **无效类**:
  - 商品不存在
  - 搜索词为空

| 用例编号 | 测试用例描述        | 输入数据             | 预期输出                     | 等价类覆盖             |
|----------|---------------------|----------------------|------------------------------|------------------------|
| TC4-1    | 正确搜索商品        | 搜索词: iPhone 14 Pro | 商品列表显示iPhone 14 Pro相关商品 | 有效类                 |
| TC4-2    | 搜索商品不存在      | 搜索词: Galaxy Z Fold 100 | 提示“未找到相关商品”| 无效类（商品不存在）|
| TC4-3    | 搜索词为空          | 搜索词: ``            | 提示“请输入搜索关键词”| 无效类（搜索词为空）     |

---

## 测试用例 5: 客户购买商品
- **用例描述**：客户能完成商品购买流程。
- **前置条件**：客户已登录系统，商品状态为可购买。
- **后置条件**：购买成功并生成订单。
- **主要步骤**：
  1. 客户在商品页面点击“购买”按钮。
  2. 输入地址、电话等必要信息。
- **等价类覆盖**：
  - **有效类**：用户名、电话、地址均合法
  - **无效类**：
    - 地址为空
    - 电话格式错误

| 用例编号 | 测试用例描述       | 输入数据                                          | 预期输出                         | 等价类覆盖             |
|----------|--------------------|--------------------------------------------------|----------------------------------|------------------------|
| TC5-1    | 正确购买商品       | 用户名: Alice_Wang, 地址: 上海市浦东新区, 电话: 13800138000 | 订单生成成功，进入订单详情页     | 有效类                 |
| TC5-2    | 地址为空           | 用户名: Alice_Wang, 地址: ``, 电话: 13800138000  | 提示“地址不能为空”              | 无效类（地址为空）     |
| TC5-3    | 电话格式错误       | 用户名: Alice_Wang, 地址: 上海市浦东新区, 电话: 13800138abc | 提示“电话格式不正确”            | 无效类（电话格式错误） |

---

## 测试用例 6: 客户查看订单历史
- **用例描述**：客户可以查看订单历史记录。
- **前置条件**：客户已登录并有订单记录。
- **后置条件**：客户能看到所有历史订单信息。
- **主要步骤**：
  1. 客户进入“我的订单”页面。
  2. 系统显示订单列表。
- **等价类覆盖**：
  - **有效类**：有购买订单
  - **无效类**：无购买订单

| 用例编号 | 测试用例描述       | 输入数据     | 预期输出                     | 等价类覆盖             |
|----------|--------------------|--------------|------------------------------|------------------------|
| TC6-1    | 查看订单历史       | 用户已登录    | 显示所有历史订单信息         | 有效类                 |
| TC6-2    | 无订单记录         | 用户已登录    | 提示“暂无订单记录”          | 无效类（无订单）       |

---

## 测试用例 7: 卖家发布商品
- **用例描述**：卖家通过后台系统发布一个新的商品，填写商品名称、描述、图片和价格。
- **前置条件**：卖家已登录后台系统。
- **后置条件**：商品信息成功保存并展示给买家。
- **主要步骤**：
  1. 卖家登录后台系统。
  2. 导航到“发布商品”页面。
- **等价类覆盖**：
  - **有效类**：名称、描述、图片、价格均合法
  - **无效类**：
    - 名称为空
    - 描述为空
    - 图片格式错误
    - 价格无效

| 用例编号 | 测试用例描述          | 输入数据                                                   | 预期输出                           | 等价类覆盖                  |
|----------|-----------------------|-----------------------------------------------------------|------------------------------------|-----------------------------|
| TC7-1    | 正确发布商品          | 名称: MacBook Air, 描述: M1处理器, 图片: macbook.jpg, 价格: 9999 | 商品成功发布，展示在买家页面      | 有效类                      |
| TC7-2    | 商品名称为空          | 名称: ``, 描述: M1处理器, 图片: macbook.jpg, 价格: 9999    | 发布失败，提示“商品名称不能为空”  | 无效类（名称为空）          |
| TC7-3    | 商品描述为空          | 名称: MacBook Air, 描述: ``, 图片: macbook.jpg, 价格: 9999 | 发布失败，提示“商品描述不能为空”  | 无效类（描述为空）          |
| TC7-4    | 图片格式错误          | 名称: MacBook Air, 描述: M1处理器, 图片: macbook.txt, 价格: 9999 | 发布失败，提示“图片格式不正确”    | 无效类（图片格式错误）      |
| TC7-5    | 商品价格为负数        | 名称: MacBook Air, 描述: M1处理器, 图片: macbook.jpg, 价格: -5000 | 发布失败，提示“商品价格无效”      | 无效类（价格无效）          |

---

## 测试用例 8: 卖家登录
- **用例描述**：卖家使用用户名和密码登录后台系统。
- **前置条件**：无
- **后置条件**：卖家成功登录系统。
- **主要步骤**：
  1. 卖家进入后台登录页面。
  2. 输入用户名和密码。
  3. 点击登录。
- **等价类覆盖**：
  - **有效类**：用户名密码均正确
  - **无效类**：
    - 用户名为空
    - 密码为空
    - 用户名错误
    - 密码错误

| 用例编号 | 测试用例描述          | 输入数据                              | 预期输出                         | 等价类覆盖                  |
|----------|-----------------------|---------------------------------------|----------------------------------|-----------------------------|
| TC8-1    | 正确登录后台          | 用户名: admin, 密码: 1                | 登录成功，进入后台页面           | 有效类                      |
| TC8-2    | 用户名为空            | 用户名: ``, 密码: 1                   | 登录失败，提示“用户名不能为空”  | 无效类（用户名为空）        |
| TC8-3    | 密码为空              | 用户名: admin, 密码: ``               | 登录失败，提示“密码不能为空”    | 无效类（密码为空）          |
| TC8-4    | 用户名不存在          | 用户名: seller_wang, 密码: 1          | 登录失败，提示“用户名不存在”    | 无效类（用户名不存在）      |
| TC8-5    | 密码错误              | 用户名: admin, 密码: WrongPass        | 登录失败，提示“密码错误”        | 无效类（密码错误）          |

---

## 测试用例 9: 卖家修改密码

### 用例描述
卖家登录后修改初始密码。

### 前置条件
卖家已登录后台系统。

### 后置条件
卖家成功修改密码并使用新密码登录。

### 主要步骤
1. 卖家登录后台并进入“账户设置”页面。
2. 输入当前密码和新密码。
3. 提交修改。

### 等价类覆盖

#### 有效类
- 密码正确且新密码合法

#### 无效类
- 用户名为空
- 密码错误
- 新密码为空

| 用例编号 | 测试用例描述    | 输入数据                                | 预期输出                   | 等价类覆盖          |
|----------|-----------------|-----------------------------------------|----------------------------|---------------------|
| TC9-1    | 正确修改密码    | 当前密码: Admin@1234, 新密码: NewPass@2023 | 修改成功，提示密码已更改   | 有效类             |
| TC9-2    | 当前密码错误    | 当前密码: WrongPass123, 新密码: NewPass@2023 | 修改失败，提示“当前密码错误” | 无效类（密码错误） |
| TC9-3    | 新密码为空      | 当前密码: Admin@1234, 新密码: ``           | 修改失败，提示“新密码不能为空” | 无效类（新密码为空） |

---

## 测试用例 10: 修改商品信息

### 用例描述
卖家修改已发布商品的信息。

### 前置条件
商品已发布。

### 后置条件
商品信息更新成功。

### 主要步骤
1. 卖家选择“修改商品”功能。
2. 修改商品信息（如价格、描述等）。
3. 提交修改。

### 等价类覆盖

#### 有效类
- 修改数据合法

#### 无效类
- 商品名为空
- 描述为空
- 价格无效

| 用例编号 | 测试用例描述       | 输入数据                                              | 预期输出                         | 等价类覆盖          |
|----------|--------------------|-----------------------------------------------------|----------------------------------|---------------------|
| TC10-1   | 正确修改商品信息   | 商品名: iPad Pro, 描述: 支持Apple Pencil, 价格: 7999  | 修改成功，前台页面显示更新       | 有效类             |
| TC10-2   | 商品名为空         | 商品名: ``, 描述: 支持Apple Pencil, 价格: 7999        | 修改失败，提示“商品名称不能为空” | 无效类（商品名为空）|
| TC10-3   | 描述为空           | 商品名: iPad Pro, 描述: ``, 价格: 7999                | 修改失败，提示“商品描述不能为空” | 无效类（描述为空）  |
| TC10-4   | 价格为负数         | 商品名: iPad Pro, 描述: 支持Apple Pencil, 价格: -1000 | 修改失败，提示“价格无效”         | 无效类（价格无效）  |

---

## 测试用例 11: 商品下架

### 用例描述
卖家手动下架商品。

### 前置条件
商品已发布且在销售列表中。

### 后置条件
商品状态更新为“已下架”。

### 主要步骤
1. 卖家选择“下架商品”功能。
2. 确认下架商品。

### 等价类覆盖

#### 有效类
- 未下架商品

#### 无效类
- 商品已下架
- 商品不存在

| 用例编号 | 测试用例描述    | 输入数据             | 预期输出                     | 等价类覆盖             |
|----------|-----------------|----------------------|------------------------------|------------------------|
| TC11-1   | 正确下架商品    | 商品名: iPhone 13    | 商品状态更新为“已下架”       | 有效类                |
| TC11-2   | 商品已下架      | 商品名: iPhone 13    | 提示“商品已下架”             | 无效类（商品已下架）  |
| TC11-3   | 商品不存在      | 商品名: UnknownProduct | 提示“商品不存在”             | 无效类（商品不存在）  |

---

## 测试用例 12: 查看商品历史

### 用例描述
卖家查看商品的历史信息。

### 前置条件
商品已发布。

### 后置条件
卖家能看到商品的发布和修改记录。

### 主要步骤
1. 卖家选择“查看历史商品”功能。
2. 系统显示商品的历史记录列表。

### 等价类覆盖

#### 有效类
- 存在商品历史

#### 无效类
- 商品不存在

| 用例编号 | 测试用例描述    | 输入数据             | 预期输出                 | 等价类覆盖             |
|----------|-----------------|----------------------|--------------------------|------------------------|
| TC12-1   | 正确查看历史    | 商品名: MacBook Pro  | 显示商品历史记录         | 有效类                |
| TC12-2   | 商品不存在      | 商品名: UnknownProduct | 提示“商品不存在”         | 无效类（商品不存在）  |

---

## 测试用例 13: 查看客户信息

### 用例描述
卖家查看客户的基本信息。

### 前置条件
有注册客户信息。

### 后置条件
卖家能看到客户的注册信息。

### 主要步骤
1. 卖家选择“客户管理”功能。
2. 系统显示所有注册客户的基本信息。

### 等价类覆盖

#### 有效类
- 客户存在

#### 无效类
- 客户不存在

| 用例编号 | 测试用例描述      | 输入数据              | 预期输出                 | 等价类覆盖             |
|----------|-------------------|-----------------------|--------------------------|------------------------|
| TC13-1   | 正确查看客户信息  | 客户名: Li_Hong       | 显示客户的基本信息       | 有效类                |
| TC13-2   | 客户不存在        | 客户名: UnknownCustomer | 提示“客户信息不存在”      | 无效类（客户不存在）  |

---

## 测试用例 14: 查看客户交易记录

### 用例描述
卖家查看客户的交易历史。

### 前置条件
有客户的历史订单记录。

### 后置条件
卖家能查看客户的所有订单记录。

### 主要步骤
1. 卖家选择“客户交易记录”功能。
2. 系统显示该客户的所有历史订单。

### 等价类覆盖

#### 有效类
- 客户存在交易记录

#### 无效类
- 客户无交易记录
- 客户不存在

| 用例编号 | 测试用例描述        | 输入数据              | 预期输出                     | 等价类覆盖             |
|----------|---------------------|-----------------------|------------------------------|------------------------|
| TC14-1   | 正确查看交易记录    | 客户名: Zhang_Li      | 显示客户的交易历史           | 有效类                |
| TC14-2   | 客户无交易记录      | 客户名: Wang_Yu       | 提示“该客户无交易记录”       | 无效类（无交易记录）  |
| TC14-3   | 客户不存在          | 客户名: UnknownCustomer | 提示“客户信息不存在”          | 无效类（客户不存在）  |

---

## 测试用例 15: 添加商品进入购物车

### 用例描述
用户将商品添加到购物车。

### 前置条件
用户已登录并浏览到商品详情页。

### 后置条件
商品成功添加到购物车，购物车数量更新。

### 主要步骤
1. 用户进入商品详情页。
2. 选择商品数量和规格。
3. 点击“添加到购物车”按钮。

### 等价类覆盖

#### 有效类
- 商品可正常添加至购物车。

#### 无效类
- 商品库存不足，无法添加。
- 商品规格未选择，无法添加。

| 用例编号 | 测试用例描述         | 输入数据                  | 预期输出                     | 等价类覆盖             |
|----------|----------------------|---------------------------|------------------------------|------------------------|
| TC15-1   | 正常添加商品到购物车 | 商品ID: 12345, 数量: 1    | 系统提示“商品已成功添加到购物车” | 有效类                |
| TC15-2   | 库存不足无法添加     | 商品ID: 12345, 数量: 100  | 系统提示“商品库存不足”       | 无效类（库存不足）    |
| TC15-3   | 未选择规格无法添加   | 商品ID: 12345, 数量: 1    | 系统提示“请先选择商品规格”   | 无效类（规格未选择）  |

---

## 测试用例 16: 在购物车选择商品下单

### 用例描述
用户在购物车选择商品并进行下单。

### 前置条件
用户已登录并购物车中有商品。

### 后置条件
用户成功下单，订单生成。

### 主要步骤
1. 用户进入购物车页面。
2. 确认购物车中的商品数量、规格、价格。
3. 点击“去结算”按钮。
4. 选择收货地址、支付方式等结算信息。
5. 点击“确认下单”按钮。

### 等价类覆盖

#### 有效类
- 购物车中有商品，用户可以顺利下单。

#### 无效类
- 购物车中没有商品，无法下单。
- 支付失败，无法完成下单。

| 用例编号 | 测试用例描述         | 输入数据                  | 预期输出                     | 等价类覆盖             |
|----------|----------------------|---------------------------|------------------------------|------------------------|
| TC16-1   | 正常从购物车下单     | 商品ID: 12345, 数量: 2    | 生成订单，显示“订单已成功提交” | 有效类                |
| TC16-2   | 购物车为空无法下单   | 购物车无商品              | 系统提示“购物车为空，无法下单” | 无效类（购物车为空）  |
| TC16-3   | 支付失败无法下单     | 支付方式: 信用卡, 支付失败 | 系统提示“支付失败，请重新尝试” | 无效类（支付失败）    |

---

## 测试用例 17: 添加商品进入收藏

### 用例描述
用户将商品添加到收藏夹。

### 前置条件
用户已登录并浏览到商品详情页。

### 后置条件
商品成功添加到收藏夹，收藏夹数量更新。

### 主要步骤
1. 用户进入商品详情页。
2. 点击“添加到收藏”按钮。

### 等价类覆盖

#### 有效类
- 商品成功添加到收藏夹。

#### 无效类
- 商品无法添加到收藏夹（已添加过）。

| 用例编号 | 测试用例描述             | 输入数据              | 预期输出                       | 等价类覆盖             |
|----------|--------------------------|-----------------------|--------------------------------|------------------------|
| TC17-1   | 正常添加商品到收藏夹     | 商品ID: 12345         | 系统提示“商品已成功添加到收藏夹” | 有效类                |
| TC17-2   | 商品已收藏，无法重复添加 | 商品ID: 12345         | 系统提示“该商品已在收藏夹中”     | 无效类（商品已收藏）  |
